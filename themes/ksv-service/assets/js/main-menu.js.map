{"version":3,"file":"/js/main-menu.js","mappings":"gLAQIA,EACAC,EACAC,E,8BANAC,GAAa,EACXC,EAAQC,SAASC,cAAc,iBAC/BC,EAAYH,EAAME,cAAc,sBAchCE,EAA8B,SAACC,GACnCA,EAAEC,iBACFC,IACAC,IACAC,EAAAA,EAAAA,IAAcb,IACdA,EAAgBS,EAAEK,OAAOC,YACXC,UAAUC,IAAI,oBAE5BjB,EAAgBA,EAAcM,cAAc,qBAC5CY,IACAC,IACAN,EAAAA,EAAAA,GAAab,IAGTkB,EAA2B,YAC/BjB,EAAsBD,EAAcoB,iBAAiB,mDAEnDnB,EAAoBoB,SAAQ,SAAAC,GAAE,OAAIA,EAAGC,iBAAiB,QAASf,OAG7DG,EAA4B,WAC5BV,GACFA,EAAoBoB,SAAQ,SAAAC,GAAE,OAAIA,EAAGE,oBAAoB,QAAShB,OAGhEiB,EAA+B,SAAChB,GACpCA,EAAEC,iBACFC,IACAC,IACAC,EAAAA,EAAAA,IAAcb,IACdA,EAAgBA,EAAce,YAChBC,UAAUU,OAAO,oBAE/B1B,EAAgBA,EAAce,WAC9BG,IACAC,IACAN,EAAAA,EAAAA,GAAab,IAGTmB,EAA4B,YAChCjB,EAAsBF,EAAcM,cAAc,qCAEhDJ,EAAoBqB,iBAAiB,QAASE,IAG5Cb,EAA6B,WAC7BV,GACFA,EAAoBsB,oBAAoB,QAASC,IAa/CE,EAAa,WApEQ,IACnBC,EAoENzB,GAAa,EACbE,SAASwB,KAAKb,UAAUU,OAAO,oBArEzBE,EAAmBrB,EAAUa,iBAAiB,uBAElDQ,EAAiBP,SAAQ,SAAAS,GACrBA,EAASd,UAAUU,OAAO,wBAoEhCK,EAAAA,EAAAA,KACAlB,EAAAA,EAAAA,IAAcb,GACdW,KACAqB,EAAAA,EAAAA,MAGIC,EAAe,YACnB9B,GAAcA,IApBdH,EAAgBO,EAChBJ,GAAa,EACbE,SAASwB,KAAKb,UAAUC,IAAI,oBAC5BiB,EAAAA,EAAAA,KACArB,EAAAA,EAAAA,GAAab,GACbkB,KACAiB,EAAAA,EAAAA,GAAuB/B,EAAO,gBAAiBuB,IAmB7CA,KAIW,SAASS,EAASC,GAC/BA,EAAad,iBAAiB,SAAU,SAASd,GAC/CA,EAAEC,iBACFuB,S,qBCvGJ,IAAIK,E,uDAEJ,IAAMH,EAAyB,SAACI,EAASC,EAAUC,GACjDH,EAAuB,SAAAI,GACjBA,EAAM5B,OAAO6B,SAASJ,IAA+C,OAAnCG,EAAM5B,OAAO8B,QAAQJ,KACzDC,IACAT,MAIJ3B,SAASkB,iBAAiB,QAASe,IAG/BN,EAA0B,WAC9B3B,SAASmB,oBAAoB,QAASc,K,4ECdxC,IAAMJ,EAAsB,WAC1B,IAAMW,EAAYC,OAAOC,aAAe1C,SAAS2C,gBAAgBH,UAC3DI,EAAaH,OAAOI,aAAe7C,SAAS2C,gBAAgBC,WAE9DH,OAAOK,SAAW,WACdL,OAAOM,SAASH,EAAYJ,KAIhCd,EAAuB,WAC3Be,OAAOK,SAAW,e,qDCVb,IAAIE,EAAU,SAAiBC,GAEpC,IADA,IAAIC,EAAMC,MAAMF,EAAEG,QACTC,EAAI,EAAGA,EAAIJ,EAAEG,SAAUC,EAC9BH,EAAIG,GAAKJ,EAAEI,GAEb,OAAOH,GASEI,EAAU,SAAiBL,GACpC,OAAOE,MAAMI,QAAQN,GAAKA,EAAI,CAACA,ICbtBO,EAAU,SAAiBP,EAAGQ,GACvC,IAAIC,EAAUT,EAAEU,SAAWF,EAAEE,SACzBC,EAAYX,EAAEY,MAAQJ,EAAEI,MAE5B,GAAIH,EAAS,CACX,IAAKT,EAAEU,SAAU,OAAO,EACxB,IAAKF,EAAEE,SAAU,OAAQ,EAG3B,OAAOD,GAAWE,GAGTE,EAAkB,SAAyBC,EAAOC,EAAgBC,GAC3E,OAAOjB,EAAQe,GAAOG,KAAI,SAAUC,EAAMN,GACxC,MAAO,CACLM,KAAMA,EACNN,MAAOA,EACPF,SAAUM,IAAiC,IAAnBE,EAAKR,UAAmBQ,EAAKC,SAAW,IAAIC,WAAa,GAAK,EAAIF,EAAKR,aAEhGW,QAAO,SAAUC,GAClB,OAAQP,GAAkBO,EAAKZ,UAAY,KAC1Ca,KAAKhB,ICvBV,GAAgB,iCAAkC,iCAAkC,mCAAoC,gCAAiC,UAAW,aAAc,SAAU,SAAU,QAAS,aAAc,oBAAqB,eCAvOiB,EAAc,kBCIrBC,EAAiBC,EAAUC,KAAK,KAChCC,EAAsBH,EAAiB,uBAEhCI,EAAgB,SAAuBC,EAASC,GACzD,OAAOD,EAAQE,QAAO,SAAUC,EAAKC,GACnC,OAAOD,EAAIE,OAEXpC,EAAQmC,EAAOpE,iBAAiBiE,EAAaH,EAAsBH,IAEnES,EAAOzE,WAAasC,EAAQmC,EAAOzE,WAAWK,iBAAiB4D,EAAUC,KAAK,OAAON,QAAO,SAAUH,GACpG,OAAOA,IAASgB,KACb,MACJ,KCLME,EAAY,SAASA,EAAUlB,GACxC,OAAQA,GAAQA,IAASnE,UAAYmE,EAAKmB,WAAaC,KAAKC,kBARfC,EAQiDhD,OAAOiD,iBAAiBvB,EAAM,QAPrGsB,EAAcE,mBAGgB,SAA9CF,EAAcE,iBAAiB,YAA0E,WAAjDF,EAAcE,iBAAiB,iBAIwCN,EAAUlB,EAAKzD,YARjI,IAAyB+E,GAe3CG,EAAa,SAASA,EAAWzB,GACnC,IAAIY,EAAUc,UAAUzC,OAAS,QAAsB0C,IAAjBD,UAAU,GAAmBA,UAAU,GAAK,GAMlF,OAJAd,EAAQgB,KAAK5B,GACTA,EAAKzD,YACPkF,EAAWzB,EAAKzD,WAAYqE,GAEvBA,GAGEiB,EAAkB,SAAyBC,EAAOC,GAI3D,IAHA,IAAIC,EAAWP,EAAWK,GACtBG,EAAWR,EAAWM,GAEjB7C,EAAI,EAAGA,EAAI8C,EAAS/C,OAAQC,GAAK,EAAG,CAC3C,IAAIgD,EAAgBF,EAAS9C,GAC7B,GAAI+C,EAASE,QAAQD,IAAkB,EACrC,OAAOA,EAGX,OAAO,GAGEE,EAAkB,SAAyBxC,GACpD,OAAOf,EAAQe,GAAOO,QAAO,SAAUH,GACrC,OAAOkB,EAAUlB,MAChBG,QAAO,SAAUH,GAClB,OA/BwB,SAAwBA,GAClD,SAA2B,UAAjBA,EAAKqC,SAAwC,WAAjBrC,EAAKqC,WAAwC,WAAdrC,EAAKsC,MAAqBtC,EAAKuC,WA8B3FC,CAAexC,OAIf,EAAmB,SAA0ByC,EAAU5B,GAChE,OAAOlB,EAAgByC,EAAgBzB,EAAc8B,EAAU5B,KAAc,EAAMA,IAO1E6B,EAAuB,SAA8BC,GAC9D,OAAOP,GDvCHQ,ECuC2CD,EDvCtB/F,iBAAiB,2BACnCiC,EAAQ+D,GAAa7C,KAAI,SAAUC,GACxC,OAAOW,EAAc,CAACX,OACrBc,QAAO,SAAUC,EAAKnB,GACvB,OAAOmB,EAAIE,OAAOrB,KACjB,MANgC,IAC/BgD,GEpBFC,EAAU,SAAiB7C,GAC7B,MAAwB,UAAjBA,EAAKqC,SAAqC,UAAdrC,EAAKsC,MAGtCQ,EAAoB,SAA2B9C,EAAMJ,GACvD,OAAOA,EAAMO,OAAO0C,GAAS1C,QAAO,SAAUrD,GAC5C,OAAOA,EAAGiG,OAAS/C,EAAK+C,QACvB5C,QAAO,SAAUrD,GAClB,OAAOA,EAAGkG,WACT,IAAMhD,GAYAiD,EAAgB,SAAuBrD,EAAOF,GACvD,OAAIE,EAAMX,OAAS,GACb4D,EAAQjD,EAAMF,KAAWE,EAAMF,GAAOqD,KACjCnD,EAAMuC,QAAQW,EAAkBlD,EAAMF,GAAQE,IAGlDF,GAGT,EAlBqB,SAAwBE,GAC3C,OAAIA,EAAM,IAAMA,EAAMX,OAAS,GACzB4D,EAAQjD,EAAM,KAAOA,EAAM,GAAGmD,KACzBD,EAAkBlD,EAAM,GAAIA,GAGhCA,EAAM,IClBXsD,EAA4B,mBAAXC,QAAoD,iBAApBA,OAAOC,SAAwB,SAAUC,GAAO,cAAcA,GAAS,SAAUA,GAAO,OAAOA,GAAyB,mBAAXF,QAAyBE,EAAIC,cAAgBH,QAAUE,IAAQF,OAAOI,UAAY,gBAAkBF,GAKlQG,EAAe,SAASA,EAAa5D,GAEvC,IADA,IAAI6D,EAAI7D,EAAMX,OACLC,EAAI,EAAGA,EAAIuE,EAAGvE,GAAK,EAa1B,IAZA,IAAIwE,EAAQ,SAAeC,GACzB,GAAIzE,IAAMyE,GACJ/D,EAAMV,GAAGf,SAASyB,EAAM+D,IAC1B,MAAO,CACLC,EAAGJ,EAAa5D,EAAMO,QAAO,SAAU0D,GACrC,OAAOA,IAAMjE,EAAM+D,SAOpBA,EAAI,EAAGA,EAAIF,EAAGE,GAAK,EAAG,CAC7B,IAAIG,EAAOJ,EAAMC,GAEjB,GAAoE,iBAA/C,IAATG,EAAuB,YAAcZ,EAAQY,IAAqB,OAAOA,EAAKF,EAG9F,OAAOhE,GAGLmE,EAAe,SAASA,EAAa/D,GACvC,OAAOA,EAAKzD,WAAawH,EAAa/D,EAAKzD,YAAcyD,GAY3D,EAT0B,SAA6BA,GAErD,OADYb,EAAQa,GACPG,OAAO6D,SAASlD,QAAO,SAAUC,EAAKkD,GACjD,IAAIC,EAAQD,EAAYE,aAAa7D,GAErC,OADAS,EAAIa,KAAKwC,MAAMrD,EAAKmD,EAAQV,EAAa3E,EAAQkF,EAAaE,GAAarH,iBAAiB,qBAA2BsH,EAA3B,mDAAsF,CAACD,IAC5KlD,IACN,KC5BDsD,EAAU,SAAiBrE,GAC7B,OAAOA,GAAQA,EAAKC,SAAWD,EAAKC,QAAQC,YAE1CoE,EAAY,SAAmBtE,GACjC,OAAQqE,EAAQrE,IA+DduE,EAAqB,SAA4BC,EAAmBC,EAAWC,GACjF,IAAIC,EAAiBxF,EAAQqF,GACzBI,EAAczF,EAAQsF,GACtBI,EAAgBF,EAAe,GAC/BG,EAAY,KAchB,OAbAF,EAAYzE,OAAO6D,SAASnH,SAAQ,SAAUkI,GAC5CD,EAAYjD,EAAgBiD,GAAaC,EAAOA,IAAUD,EAC1DJ,EAAavE,OAAO6D,SAASnH,SAAQ,SAAUmI,GAC7C,IAAIC,EAASpD,EAAgBgD,EAAeG,GACxCC,IAEAH,GADGA,GAAaG,EAAO9G,SAAS2G,GACpBG,EAEApD,EAAgBoD,EAAQH,UAKrCA,GAoFT,EAvCoB,SAAuBnC,EAASuC,GAClD,IAAIL,EAAgBhJ,UAAYA,SAASgJ,cACrCM,EAAU,EAAoBxC,GAASxC,OAAOmE,GAE9Cc,EAAeb,EAAmBM,GAAiBlC,EAASA,EAASwC,GAErEE,EAAgB,EAAiBF,GAAShF,QAAO,SAAUmF,GAC7D,IAAItF,EAAOsF,EAAMtF,KACjB,OAAOsE,EAAUtE,MAGnB,GAAKqF,EAAc,KACjBA,GHnG0D5C,EGmGtB0C,EHlG/BxF,EAAgByC,EAAgBzB,EAAc8B,KAAY,IGkGlBtC,QAAO,SAAUoF,GAC5D,IAAIvF,EAAOuF,EAAMvF,KACjB,OAAOsE,EAAUtE,OAEA,GALrB,CHlG+B,IAA6ByC,EGmDrB+C,EAAUC,EAC7CC,EArGyCC,EA6JzCC,EAAa,EAAiB,CAACR,IAAerF,KAAI,SAAU8F,GAE9D,OADWA,EAAM7F,QAGf8F,GA7DmCN,EA6DCI,EA7DSH,EA6DGJ,EA5DhDK,EAAQ,IAAIK,IAEhBN,EAAS5I,SAAQ,SAAUmJ,GACzB,OAAON,EAAMO,IAAID,EAAOhG,KAAMgG,MAGzBR,EAASzF,KAAI,SAAUC,GAC5B,OAAO0F,EAAMQ,IAAIlG,MAChBG,OAAO6D,UAqDNmC,EAAaL,EAAqB/F,KAAI,SAAUqG,GAElD,OADWA,EAAMpG,QAIfqG,EA1JgB,SAAkBF,EAAYP,EAAYf,EAAeK,EAAUoB,GACvF,IAAIC,EAAMJ,EAAWlH,OACjBuH,EAAaL,EAAW,GACxBM,EAAYN,EAAWI,EAAM,GAC7BG,EAAYrC,EAAQQ,GAGxB,KAAIsB,EAAWhE,QAAQ0C,IAAkB,GAAzC,CAIA,IAAI8B,EAAcf,EAAWzD,QAAQ0C,GACjC+B,EAAYhB,EAAWzD,QAAQ+C,GAAYyB,GAC3CE,EAAiBV,EAAWhE,QAAQ+C,GACpCzF,EAAYkH,EAAcC,EAC1BE,EAAiBlB,EAAWzD,QAAQqE,GACpCO,EAAgBnB,EAAWzD,QAAQsE,GAEnCO,EAAkB/D,EAAckD,EAAY,GAC5Cc,EAAiBhE,EAAckD,EAAYI,EAAM,GAGrD,OAAqB,IAAjBI,IAA0C,IAApBE,EACjBV,EAAWhE,QAAQmE,GAAeA,EAAYrH,OAAS,EAAeqH,GAAe,EAAeH,KAGxG1G,GAAaoH,GAAkB,EAC3BA,EAGLF,GAAeG,GAAkBJ,GAAaQ,KAAKC,IAAI1H,GAAa,EAC/DwH,EAGLN,GAAeG,GAAkBJ,GAAaQ,KAAKC,IAAI1H,GAAa,EAC/DuH,EAGLvH,GAAayH,KAAKC,IAAI1H,GAAa,EAC9BoH,EAGLF,GAAeG,EACVG,EAGLN,EAAcI,EACTC,EAGLvH,EACEyH,KAAKC,IAAI1H,GAAa,EACjBoH,GAEDN,EAAMM,EAAiBpH,GAAa8G,OAJ9C,GAwGYa,CAASjB,EAAYP,EAAYf,EAAeK,EAAUiB,EAAWhG,QAvKpCwF,EA8FjB,SAAiCR,GAC7D,OAAOA,EAAQrE,QAAO,SAAUC,EAAKf,GACnC,OAAOe,EAAIE,OAAOyB,EAAqB1C,MACtC,IAsEqGqH,CAAwBlC,GAtKzH,SAAUnF,GACf,QAASA,EAAKsH,WAAatH,EAAKC,WAAaD,EAAKC,QAAQqH,WAAa3B,EAAexD,QAAQnC,IAAS,MAuKzG,YAAc2B,IAAV0E,EACKA,EAEFP,EAAqBO,KCxK1BkB,EAAa,EACbC,GAAe,ECAnB,EDEA,SAA0B7E,EAASuC,GACjC,IAXoC5I,EAWhCmL,EAAY,EAAc9E,EAASuC,GAEvC,IAAIsC,GAIAC,EAAW,CACb,GAAIF,EAAa,EAOf,OALAG,QAAQC,MAAM,qJACdH,GAAe,OACfI,YAAW,WACTJ,GAAe,IACd,GAGLD,KA3BkCjL,EA4B1BmL,EAAUzH,MA3Bb6H,QACHvL,EAAOwL,eACTxL,EAAOwL,cAAcD,QA0BrBN,MEtBJ,EANoB,WAClB,OAAO1L,UAAYgD,EAAQhD,SAASe,iBAAiB,yBAA0BmL,MAAK,SAAU/H,GAC5F,OAAOA,EAAK7B,SAAStC,SAASgJ,mBCF9BmD,EAAe,SAAsBC,GACvC,OAAOA,IAAUpM,SAASgJ,eAkB5B,EAXkB,SAAqBlC,GACrC,IAAIkC,EAAgBhJ,UAAYA,SAASgJ,cAEzC,SAAKA,GAAiBA,EAAc5E,SAAW4E,EAAc5E,QAAQC,aAG9D,EAAoByC,GAAS7B,QAAO,SAAUoH,EAAQlI,GAC3D,OAAOkI,GAAUlI,EAAK7B,SAAS0G,IAXX,SAA2BlC,GACjD,OZAwCwF,EYArBtJ,EAAQ8D,EAAQ/F,iBAAiB,WZALwL,EYAiBJ,IZCzDG,EAAMhI,QAAO,SAAUrB,GAC5B,OAAOA,IAAMsJ,KACZ,GAHkB,IAAmBD,EAAOC,EYUIC,CAAkBrI,MAClE,ICjBDsI,EAAiB,EACjBC,EAAkB,KAMlBC,EAAc,WAChB,OAJO3M,UAAYA,SAASgJ,gBAAkBhJ,SAASwB,MAI/B,KA2BtBoL,EAA4B,SAAmCC,GACjEJ,EAAiBI,EAEbA,GA3Ba,WACjB,IAAIR,GAAS,EAEb,GAAII,EAAgB,CAClB,IAAIK,EAAWL,EAEVE,MACCG,IAAa,EAAYA,KAC3BT,EAAS,EAAgBS,EAAUJ,IAGrCA,EAAkB1M,SAASgJ,gBAiB7B+D,IAIAC,EAAY,GAEZC,EAAa,SAAoB5K,GACnC,QAAIuK,GAjB+CM,EAiBFF,EAhB1CE,EAAU5I,QAAO,SAAUH,GAChC,OAAOA,KACNgJ,OAAO,GAAG,OAeX9K,GAASA,EAAMhC,kBACR,GAnBc,IAA4B6M,GAwDrD,EAvBgB,CACdE,GAAI,SAAYC,GACW,IAArBL,EAAU5J,QAThBpD,SAASkB,iBAAiB,UAAW+L,GAa/BD,EAAU1G,QAAQ+G,GAAW,IAC/BL,EAAUjH,KAAKsH,GACfJ,MAGJK,IAAK,SAAaD,GAChBL,EAAYA,EAAU1I,QAAO,SAAUH,GACrC,OAAOA,IAASkJ,KAElBJ,IAEyB,IAArBD,EAAU5J,QApBhBpD,SAASmB,oBAAoB,UAAW8L","sources":["webpack://ksv-service/./src/components/main-menu/_.js","webpack://ksv-service/./src/components/utils/clickOutside/_.js","webpack://ksv-service/./src/components/utils/scrollLock/_.js","webpack://ksv-service/./node_modules/focus-lock/dist/es2015/utils/array.js","webpack://ksv-service/./node_modules/focus-lock/dist/es2015/utils/tabOrder.js","webpack://ksv-service/./node_modules/focus-lock/dist/es2015/utils/tabbables.js","webpack://ksv-service/./node_modules/focus-lock/dist/es2015/constants.js","webpack://ksv-service/./node_modules/focus-lock/dist/es2015/utils/tabUtils.js","webpack://ksv-service/./node_modules/focus-lock/dist/es2015/utils/DOMutils.js","webpack://ksv-service/./node_modules/focus-lock/dist/es2015/utils/firstFocus.js","webpack://ksv-service/./node_modules/focus-lock/dist/es2015/utils/all-affected.js","webpack://ksv-service/./node_modules/focus-lock/dist/es2015/focusMerge.js","webpack://ksv-service/./node_modules/focus-lock/dist/es2015/setFocus.js","webpack://ksv-service/./node_modules/focus-lock/dist/es2015/index.js","webpack://ksv-service/./node_modules/focus-lock/dist/es2015/focusIsHidden.js","webpack://ksv-service/./node_modules/focus-lock/dist/es2015/focusInside.js","webpack://ksv-service/./node_modules/dom-focus-lock/dist/index.esm.js"],"sourcesContent":["import { onScrollLockHandler, offScrollLockHandler } from \"@c/utils/scrollLock/_\";\nimport { onClickOutsideListener, offClickOutsideListener } from \"../utils/clickOutside/_\";\nimport focusLock from \"dom-focus-lock\";\n\nlet isMenuShow = false; \nconst $menu = document.querySelector(\".js-main-menu\");\nconst $menuList = $menu.querySelector(\".js-main-menu-list\");\n\nlet currentBranch;\nlet dropdownButtonsOpen;\nlet dropdownButtonClose;\n\nconst onHideDropdownMenu = () => {\n  const $dropdownsActive = $menuList.querySelectorAll(\".dropdown--active\")\n  if ($dropdownsActive)\n    $dropdownsActive.forEach(dropdown => {\n        dropdown.classList.remove(\"dropdown--active\");\n    })\n}\n\nconst clickDropdownBtnOpenHandler = (e) => { \n  e.preventDefault();\n  offDropdownBtnOpenHandler();\n  offDropdownBtnCloseHandler();  \n  focusLock.off(currentBranch);\n  currentBranch = e.target.parentNode;\n  currentBranch.classList.add(\"dropdown--active\");\n \n  currentBranch = currentBranch.querySelector(\".js-dropdown-menu\");\n  onDropdownBtnOpenHandler();\n  onDropdownBtnCloseHandler();\n  focusLock.on(currentBranch);\n}\n\nconst onDropdownBtnOpenHandler = () => {\n  dropdownButtonsOpen = currentBranch.querySelectorAll(\":scope > .js-dropdown > .js-dropdown-btn-open\");\n  if (dropdownButtonsOpen)\n    dropdownButtonsOpen.forEach(el => el.addEventListener(\"click\", clickDropdownBtnOpenHandler))\n}\n\nconst offDropdownBtnOpenHandler = () => {\n  if (dropdownButtonsOpen)\n    dropdownButtonsOpen.forEach(el => el.removeEventListener(\"click\", clickDropdownBtnOpenHandler))\n}\n\nconst clickDropdownBtnCloseHandler = (e) => {\n  e.preventDefault();\n  offDropdownBtnOpenHandler();\n  offDropdownBtnCloseHandler();\n  focusLock.off(currentBranch);\n  currentBranch = currentBranch.parentNode;\n  currentBranch.classList.remove(\"dropdown--active\");\n\n  currentBranch = currentBranch.parentNode;\n  onDropdownBtnOpenHandler();\n  onDropdownBtnCloseHandler();\n  focusLock.on(currentBranch);\n}\n\nconst onDropdownBtnCloseHandler = () => {\n  dropdownButtonClose = currentBranch.querySelector(\":scope > .js-dropdown-btn-close\");\n  if (dropdownButtonClose)\n    dropdownButtonClose.addEventListener(\"click\", clickDropdownBtnCloseHandler)\n}\n\nconst offDropdownBtnCloseHandler = () => {\n  if (dropdownButtonClose)\n    dropdownButtonClose.removeEventListener(\"click\", clickDropdownBtnCloseHandler)\n}\n\nconst onMenuShow = () => {\n  currentBranch = $menuList;\n  isMenuShow = true;\n  document.body.classList.add(\"main-menu--show\");\n  onScrollLockHandler();\n  focusLock.on(currentBranch);\n  onDropdownBtnOpenHandler();\n  onClickOutsideListener($menu, \".js-main-menu\", onMenuHide);\n}\n\nconst onMenuHide = () => {\n  isMenuShow = false;\n  document.body.classList.remove(\"main-menu--show\");\n  onHideDropdownMenu();\n  offScrollLockHandler();\n  focusLock.off(currentBranch);\n  offDropdownBtnOpenHandler();\n  offClickOutsideListener();\n}\n\nconst onToggleMenu = () => {\n  isMenuShow = !isMenuShow;\n\n  if (isMenuShow) {\n    onMenuShow();\n  } else {\n    onMenuHide();\n  }\n}\n\nexport default function initMenu($menuToglers) {\n  $menuToglers.addEventListener(\"click\", (function(e) {\n    e.preventDefault(); \n    onToggleMenu();\n  }))\n}","let outsideClickListener;\n\nconst onClickOutsideListener = (element, selector, action) => {\n  outsideClickListener = event => {\n    if (event.target.contains(element) && event.target.closest(selector) === null) {\n      action()\n      offClickOutsideListener()\n    }\n  }\n\n  document.addEventListener('click', outsideClickListener)\n}\n\nconst offClickOutsideListener = () => {\n  document.removeEventListener('click', outsideClickListener)\n}\n\nexport { onClickOutsideListener, offClickOutsideListener }","const onScrollLockHandler = () => {\n  const scrollTop = window.pageYOffset || document.documentElement.scrollTop;\n  const scrollLeft = window.pageXOffset || document.documentElement.scrollLeft;\n\n      window.onscroll = function() {\n          window.scrollTo(scrollLeft, scrollTop);\n      };\n}\n\nconst offScrollLockHandler = () => {\n  window.onscroll = function() {};\n}\n\nexport { onScrollLockHandler, offScrollLockHandler };","export var toArray = function toArray(a) {\n  var ret = Array(a.length);\n  for (var i = 0; i < a.length; ++i) {\n    ret[i] = a[i];\n  }\n  return ret;\n};\n\nexport var arrayFind = function arrayFind(array, search) {\n  return array.filter(function (a) {\n    return a === search;\n  })[0];\n};\n\nexport var asArray = function asArray(a) {\n  return Array.isArray(a) ? a : [a];\n};","import { toArray } from './array';\n\nexport var tabSort = function tabSort(a, b) {\n  var tabDiff = a.tabIndex - b.tabIndex;\n  var indexDiff = a.index - b.index;\n\n  if (tabDiff) {\n    if (!a.tabIndex) return 1;\n    if (!b.tabIndex) return -1;\n  }\n\n  return tabDiff || indexDiff;\n};\n\nexport var orderByTabIndex = function orderByTabIndex(nodes, filterNegative, keepGuards) {\n  return toArray(nodes).map(function (node, index) {\n    return {\n      node: node,\n      index: index,\n      tabIndex: keepGuards && node.tabIndex === -1 ? (node.dataset || {}).focusGuard ? 0 : -1 : node.tabIndex\n    };\n  }).filter(function (data) {\n    return !filterNegative || data.tabIndex >= 0;\n  }).sort(tabSort);\n};","export default ['button:enabled:not([readonly])', 'select:enabled:not([readonly])', 'textarea:enabled:not([readonly])', 'input:enabled:not([readonly])', 'a[href]', 'area[href]', 'iframe', 'object', 'embed', '[tabindex]', '[contenteditable]', '[autofocus]'];","export var FOCUS_GROUP = 'data-focus-lock';\nexport var FOCUS_DISABLED = 'data-focus-lock-disabled';\nexport var FOCUS_ALLOW = 'data-no-focus-lock';\nexport var FOCUS_AUTO = 'data-autofocus-inside';","import tabbables from './tabbables';\nimport { toArray } from './array';\nimport { FOCUS_AUTO } from '../constants';\n\nvar queryTabbables = tabbables.join(',');\nvar queryGuardTabbables = queryTabbables + ', [data-focus-guard]';\n\nexport var getFocusables = function getFocusables(parents, withGuards) {\n  return parents.reduce(function (acc, parent) {\n    return acc.concat(\n    // add all tabbables inside\n    toArray(parent.querySelectorAll(withGuards ? queryGuardTabbables : queryTabbables)),\n    // add if node is tabble itself\n    parent.parentNode ? toArray(parent.parentNode.querySelectorAll(tabbables.join(','))).filter(function (node) {\n      return node === parent;\n    }) : []);\n  }, []);\n};\n\nexport var getParentAutofocusables = function getParentAutofocusables(parent) {\n  var parentFocus = parent.querySelectorAll('[' + FOCUS_AUTO + ']');\n  return toArray(parentFocus).map(function (node) {\n    return getFocusables([node]);\n  }).reduce(function (acc, nodes) {\n    return acc.concat(nodes);\n  }, []);\n};","import { orderByTabIndex } from './tabOrder';\nimport { getFocusables, getParentAutofocusables } from './tabUtils';\nimport { toArray } from './array';\n\nvar isElementHidden = function isElementHidden(computedStyle) {\n  if (!computedStyle || !computedStyle.getPropertyValue) {\n    return false;\n  }\n  return computedStyle.getPropertyValue('display') === 'none' || computedStyle.getPropertyValue('visibility') === 'hidden';\n};\n\nexport var isVisible = function isVisible(node) {\n  return !node || node === document || node.nodeType === Node.DOCUMENT_NODE || !isElementHidden(window.getComputedStyle(node, null)) && isVisible(node.parentNode);\n};\n\nexport var notHiddenInput = function notHiddenInput(node) {\n  return !((node.tagName === 'INPUT' || node.tagName === 'BUTTON') && (node.type === 'hidden' || node.disabled));\n};\n\nvar getParents = function getParents(node) {\n  var parents = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n  parents.push(node);\n  if (node.parentNode) {\n    getParents(node.parentNode, parents);\n  }\n  return parents;\n};\n\nexport var getCommonParent = function getCommonParent(nodea, nodeb) {\n  var parentsA = getParents(nodea);\n  var parentsB = getParents(nodeb);\n\n  for (var i = 0; i < parentsA.length; i += 1) {\n    var currentParent = parentsA[i];\n    if (parentsB.indexOf(currentParent) >= 0) {\n      return currentParent;\n    }\n  }\n  return false;\n};\n\nexport var filterFocusable = function filterFocusable(nodes) {\n  return toArray(nodes).filter(function (node) {\n    return isVisible(node);\n  }).filter(function (node) {\n    return notHiddenInput(node);\n  });\n};\n\nexport var getTabbableNodes = function getTabbableNodes(topNodes, withGuards) {\n  return orderByTabIndex(filterFocusable(getFocusables(topNodes, withGuards)), true, withGuards);\n};\n\nexport var getAllTabbableNodes = function getAllTabbableNodes(topNodes) {\n  return orderByTabIndex(filterFocusable(getFocusables(topNodes)), false);\n};\n\nexport var parentAutofocusables = function parentAutofocusables(topNode) {\n  return filterFocusable(getParentAutofocusables(topNode));\n};","var isRadio = function isRadio(node) {\n  return node.tagName === 'INPUT' && node.type === 'radio';\n};\n\nvar findSelectedRadio = function findSelectedRadio(node, nodes) {\n  return nodes.filter(isRadio).filter(function (el) {\n    return el.name === node.name;\n  }).filter(function (el) {\n    return el.checked;\n  })[0] || node;\n};\n\nvar pickFirstFocus = function pickFirstFocus(nodes) {\n  if (nodes[0] && nodes.length > 1) {\n    if (isRadio(nodes[0]) && nodes[0].name) {\n      return findSelectedRadio(nodes[0], nodes);\n    }\n  }\n  return nodes[0];\n};\n\nexport var pickFocusable = function pickFocusable(nodes, index) {\n  if (nodes.length > 1) {\n    if (isRadio(nodes[index]) && nodes[index].name) {\n      return nodes.indexOf(findSelectedRadio(nodes[index], nodes));\n    }\n  }\n  return index;\n};\n\nexport default pickFirstFocus;","var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nimport { FOCUS_DISABLED, FOCUS_GROUP } from '../constants';\nimport { asArray, toArray } from './array';\n\nvar filterNested = function filterNested(nodes) {\n  var l = nodes.length;\n  for (var i = 0; i < l; i += 1) {\n    var _loop = function _loop(j) {\n      if (i !== j) {\n        if (nodes[i].contains(nodes[j])) {\n          return {\n            v: filterNested(nodes.filter(function (x) {\n              return x !== nodes[j];\n            }))\n          };\n        }\n      }\n    };\n\n    for (var j = 0; j < l; j += 1) {\n      var _ret = _loop(j);\n\n      if ((typeof _ret === 'undefined' ? 'undefined' : _typeof(_ret)) === \"object\") return _ret.v;\n    }\n  }\n  return nodes;\n};\n\nvar getTopParent = function getTopParent(node) {\n  return node.parentNode ? getTopParent(node.parentNode) : node;\n};\n\nvar getAllAffectedNodes = function getAllAffectedNodes(node) {\n  var nodes = asArray(node);\n  return nodes.filter(Boolean).reduce(function (acc, currentNode) {\n    var group = currentNode.getAttribute(FOCUS_GROUP);\n    acc.push.apply(acc, group ? filterNested(toArray(getTopParent(currentNode).querySelectorAll('[' + FOCUS_GROUP + '=\"' + group + '\"]:not([' + FOCUS_DISABLED + '=\"disabled\"])'))) : [currentNode]);\n    return acc;\n  }, []);\n};\n\nexport default getAllAffectedNodes;","import { getCommonParent, getTabbableNodes, getAllTabbableNodes, parentAutofocusables } from './utils/DOMutils';\nimport pickFirstFocus, { pickFocusable } from './utils/firstFocus';\nimport getAllAffectedNodes from './utils/all-affected';\nimport { asArray } from './utils/array';\n\nvar findAutoFocused = function findAutoFocused(autoFocusables) {\n  return function (node) {\n    return !!node.autofocus || node.dataset && !!node.dataset.autofocus || autoFocusables.indexOf(node) >= 0;\n  };\n};\n\nvar isGuard = function isGuard(node) {\n  return node && node.dataset && node.dataset.focusGuard;\n};\nvar notAGuard = function notAGuard(node) {\n  return !isGuard(node);\n};\n\nexport var newFocus = function newFocus(innerNodes, outerNodes, activeElement, lastNode, autoFocused) {\n  var cnt = innerNodes.length;\n  var firstFocus = innerNodes[0];\n  var lastFocus = innerNodes[cnt - 1];\n  var isOnGuard = isGuard(activeElement);\n\n  // focus is inside\n  if (innerNodes.indexOf(activeElement) >= 0) {\n    return undefined;\n  }\n\n  var activeIndex = outerNodes.indexOf(activeElement);\n  var lastIndex = outerNodes.indexOf(lastNode || activeIndex);\n  var lastNodeInside = innerNodes.indexOf(lastNode);\n  var indexDiff = activeIndex - lastIndex;\n  var firstNodeIndex = outerNodes.indexOf(firstFocus);\n  var lastNodeIndex = outerNodes.indexOf(lastFocus);\n\n  var returnFirstNode = pickFocusable(innerNodes, 0);\n  var returnLastNode = pickFocusable(innerNodes, cnt - 1);\n\n  // new focus\n  if (activeIndex === -1 || lastNodeInside === -1) {\n    return innerNodes.indexOf(autoFocused && autoFocused.length ? pickFirstFocus(autoFocused) : pickFirstFocus(innerNodes));\n  }\n  // old focus\n  if (!indexDiff && lastNodeInside >= 0) {\n    return lastNodeInside;\n  }\n  // first element\n  if (activeIndex <= firstNodeIndex && isOnGuard && Math.abs(indexDiff) > 1) {\n    return returnLastNode;\n  }\n  // last element\n  if (activeIndex >= firstNodeIndex && isOnGuard && Math.abs(indexDiff) > 1) {\n    return returnFirstNode;\n  }\n  // jump out, but not on the guard\n  if (indexDiff && Math.abs(indexDiff) > 1) {\n    return lastNodeInside;\n  }\n  // focus above lock\n  if (activeIndex <= firstNodeIndex) {\n    return returnLastNode;\n  }\n  // focus below lock\n  if (activeIndex > lastNodeIndex) {\n    return returnFirstNode;\n  }\n  // index is inside tab order, but outside Lock\n  if (indexDiff) {\n    if (Math.abs(indexDiff) > 1) {\n      return lastNodeInside;\n    }\n    return (cnt + lastNodeInside + indexDiff) % cnt;\n  }\n  // do nothing\n  return undefined;\n};\n\nvar getTopCommonParent = function getTopCommonParent(baseActiveElement, leftEntry, rightEntries) {\n  var activeElements = asArray(baseActiveElement);\n  var leftEntries = asArray(leftEntry);\n  var activeElement = activeElements[0];\n  var topCommon = null;\n  leftEntries.filter(Boolean).forEach(function (entry) {\n    topCommon = getCommonParent(topCommon || entry, entry) || topCommon;\n    rightEntries.filter(Boolean).forEach(function (subEntry) {\n      var common = getCommonParent(activeElement, subEntry);\n      if (common) {\n        if (!topCommon || common.contains(topCommon)) {\n          topCommon = common;\n        } else {\n          topCommon = getCommonParent(common, topCommon);\n        }\n      }\n    });\n  });\n  return topCommon;\n};\n\nvar allParentAutofocusables = function allParentAutofocusables(entries) {\n  return entries.reduce(function (acc, node) {\n    return acc.concat(parentAutofocusables(node));\n  }, []);\n};\n\nvar reorderNodes = function reorderNodes(srcNodes, dstNodes) {\n  var remap = new Map();\n  // no Set(dstNodes) for IE11 :(\n  dstNodes.forEach(function (entity) {\n    return remap.set(entity.node, entity);\n  });\n  // remap to dstNodes\n  return srcNodes.map(function (node) {\n    return remap.get(node);\n  }).filter(Boolean);\n};\n\nexport var getFocusabledIn = function getFocusabledIn(topNode) {\n  var entries = getAllAffectedNodes(topNode).filter(notAGuard);\n  var commonParent = getTopCommonParent(topNode, topNode, entries);\n  var outerNodes = getTabbableNodes([commonParent], true);\n  var innerElements = getTabbableNodes(entries).filter(function (_ref) {\n    var node = _ref.node;\n    return notAGuard(node);\n  }).map(function (_ref2) {\n    var node = _ref2.node;\n    return node;\n  });\n\n  return outerNodes.map(function (_ref3) {\n    var node = _ref3.node,\n        index = _ref3.index;\n    return {\n      node: node,\n      index: index,\n      lockItem: innerElements.indexOf(node) >= 0,\n      guard: isGuard(node)\n    };\n  });\n};\n\nvar getFocusMerge = function getFocusMerge(topNode, lastNode) {\n  var activeElement = document && document.activeElement;\n  var entries = getAllAffectedNodes(topNode).filter(notAGuard);\n\n  var commonParent = getTopCommonParent(activeElement || topNode, topNode, entries);\n\n  var innerElements = getTabbableNodes(entries).filter(function (_ref4) {\n    var node = _ref4.node;\n    return notAGuard(node);\n  });\n\n  if (!innerElements[0]) {\n    innerElements = getAllTabbableNodes(entries).filter(function (_ref5) {\n      var node = _ref5.node;\n      return notAGuard(node);\n    });\n    if (!innerElements[0]) {\n      return undefined;\n    }\n  }\n\n  var outerNodes = getTabbableNodes([commonParent]).map(function (_ref6) {\n    var node = _ref6.node;\n    return node;\n  });\n  var orderedInnerElements = reorderNodes(outerNodes, innerElements);\n  var innerNodes = orderedInnerElements.map(function (_ref7) {\n    var node = _ref7.node;\n    return node;\n  });\n\n  var newId = newFocus(innerNodes, outerNodes, activeElement, lastNode, innerNodes.filter(findAutoFocused(allParentAutofocusables(entries))));\n\n  if (newId === undefined) {\n    return newId;\n  }\n  return orderedInnerElements[newId];\n};\n\nexport default getFocusMerge;","import getFocusMerge from './focusMerge';\n\nexport var focusOn = function focusOn(target) {\n  target.focus();\n  if (target.contentWindow) {\n    target.contentWindow.focus();\n  }\n};\n\nvar guardCount = 0;\nvar lockDisabled = false;\n\nexport default (function (topNode, lastNode) {\n  var focusable = getFocusMerge(topNode, lastNode);\n\n  if (lockDisabled) {\n    return;\n  }\n\n  if (focusable) {\n    if (guardCount > 2) {\n      // eslint-disable-next-line no-console\n      console.error('FocusLock: focus-fighting detected. Only one focus management system could be active. ' + 'See https://github.com/theKashey/focus-lock/#focus-fighting');\n      lockDisabled = true;\n      setTimeout(function () {\n        lockDisabled = false;\n      }, 1);\n      return;\n    }\n    guardCount++;\n    focusOn(focusable.node);\n    guardCount--;\n  }\n});","import tabHook from './tabHook';\nimport focusMerge, { getFocusabledIn } from './focusMerge';\nimport focusInside from './focusInside';\nimport focusIsHidden from './focusIsHidden';\nimport setFocus from './setFocus';\nimport * as constants from './constants';\nimport getAllAffectedNodes from './utils/all-affected';\n\nexport { tabHook, focusInside, focusIsHidden, focusMerge, getFocusabledIn, constants, getAllAffectedNodes };\n\nexport default setFocus;","import { toArray } from './utils/array';\nimport { FOCUS_ALLOW } from './constants';\n\nvar focusIsHidden = function focusIsHidden() {\n  return document && toArray(document.querySelectorAll('[' + FOCUS_ALLOW + ']')).some(function (node) {\n    return node.contains(document.activeElement);\n  });\n};\n\nexport default focusIsHidden;","import getAllAffectedNodes from './utils/all-affected';\nimport { arrayFind, toArray } from './utils/array';\n\nvar focusInFrame = function focusInFrame(frame) {\n  return frame === document.activeElement;\n};\n\nvar focusInsideIframe = function focusInsideIframe(topNode) {\n  return !!arrayFind(toArray(topNode.querySelectorAll('iframe')), focusInFrame);\n};\n\nvar focusInside = function focusInside(topNode) {\n  var activeElement = document && document.activeElement;\n\n  if (!activeElement || activeElement.dataset && activeElement.dataset.focusGuard) {\n    return false;\n  }\n  return getAllAffectedNodes(topNode).reduce(function (result, node) {\n    return result || node.contains(activeElement) || focusInsideIframe(node);\n  }, false);\n};\n\nexport default focusInside;","import moveFocusInside, { focusIsHidden, focusInside } from 'focus-lock';\n\nvar lastActiveTrap = 0;\nvar lastActiveFocus = null;\n\nvar focusOnBody = function focusOnBody() {\n  return document && document.activeElement === document.body;\n};\n\nvar isFreeFocus = function isFreeFocus() {\n  return focusOnBody() || focusIsHidden();\n};\n\nvar activateTrap = function activateTrap() {\n  var result = false;\n\n  if (lastActiveTrap) {\n    var observed = lastActiveTrap;\n\n    if (!isFreeFocus()) {\n      if (observed && !focusInside(observed)) {\n        result = moveFocusInside(observed, lastActiveFocus);\n      }\n\n      lastActiveFocus = document.activeElement;\n    }\n  }\n\n  return result;\n};\n\nvar reducePropsToState = function reducePropsToState(propsList) {\n  return propsList.filter(function (node) {\n    return node;\n  }).slice(-1)[0];\n};\n\nvar handleStateChangeOnClient = function handleStateChangeOnClient(trap) {\n  lastActiveTrap = trap;\n\n  if (trap) {\n    activateTrap();\n  }\n};\n\nvar instances = [];\n\nvar emitChange = function emitChange(event) {\n  if (handleStateChangeOnClient(reducePropsToState(instances))) {\n    event && event.preventDefault();\n    return true;\n  }\n\n  return false;\n};\n\nvar attachHandler = function attachHandler() {\n  document.addEventListener('focusin', emitChange);\n};\n\nvar detachHandler = function detachHandler() {\n  document.removeEventListener('focusin', emitChange);\n};\n\nvar focusLock = {\n  on: function on(domNode) {\n    if (instances.length === 0) {\n      attachHandler();\n    }\n\n    if (instances.indexOf(domNode) < 0) {\n      instances.push(domNode);\n      emitChange();\n    }\n  },\n  off: function off(domNode) {\n    instances = instances.filter(function (node) {\n      return node !== domNode;\n    });\n    emitChange();\n\n    if (instances.length === 0) {\n      detachHandler();\n    }\n  }\n};\n\nexport default focusLock;\n"],"names":["currentBranch","dropdownButtonsOpen","dropdownButtonClose","isMenuShow","$menu","document","querySelector","$menuList","clickDropdownBtnOpenHandler","e","preventDefault","offDropdownBtnOpenHandler","offDropdownBtnCloseHandler","focusLock","target","parentNode","classList","add","onDropdownBtnOpenHandler","onDropdownBtnCloseHandler","querySelectorAll","forEach","el","addEventListener","removeEventListener","clickDropdownBtnCloseHandler","remove","onMenuHide","$dropdownsActive","body","dropdown","offScrollLockHandler","offClickOutsideListener","onToggleMenu","onScrollLockHandler","onClickOutsideListener","initMenu","$menuToglers","outsideClickListener","element","selector","action","event","contains","closest","scrollTop","window","pageYOffset","documentElement","scrollLeft","pageXOffset","onscroll","scrollTo","toArray","a","ret","Array","length","i","asArray","isArray","tabSort","b","tabDiff","tabIndex","indexDiff","index","orderByTabIndex","nodes","filterNegative","keepGuards","map","node","dataset","focusGuard","filter","data","sort","FOCUS_GROUP","queryTabbables","tabbables","join","queryGuardTabbables","getFocusables","parents","withGuards","reduce","acc","parent","concat","isVisible","nodeType","Node","DOCUMENT_NODE","computedStyle","getComputedStyle","getPropertyValue","getParents","arguments","undefined","push","getCommonParent","nodea","nodeb","parentsA","parentsB","currentParent","indexOf","filterFocusable","tagName","type","disabled","notHiddenInput","topNodes","parentAutofocusables","topNode","parentFocus","isRadio","findSelectedRadio","name","checked","pickFocusable","_typeof","Symbol","iterator","obj","constructor","prototype","filterNested","l","_loop","j","v","x","_ret","getTopParent","Boolean","currentNode","group","getAttribute","apply","isGuard","notAGuard","getTopCommonParent","baseActiveElement","leftEntry","rightEntries","activeElements","leftEntries","activeElement","topCommon","entry","subEntry","common","lastNode","entries","commonParent","innerElements","_ref4","_ref5","srcNodes","dstNodes","remap","autoFocusables","outerNodes","_ref6","orderedInnerElements","Map","entity","set","get","innerNodes","_ref7","newId","autoFocused","cnt","firstFocus","lastFocus","isOnGuard","activeIndex","lastIndex","lastNodeInside","firstNodeIndex","lastNodeIndex","returnFirstNode","returnLastNode","Math","abs","newFocus","allParentAutofocusables","autofocus","guardCount","lockDisabled","focusable","console","error","setTimeout","focus","contentWindow","some","focusInFrame","frame","result","array","search","focusInsideIframe","lastActiveTrap","lastActiveFocus","isFreeFocus","handleStateChangeOnClient","trap","observed","activateTrap","instances","emitChange","propsList","slice","on","domNode","off"],"sourceRoot":""}